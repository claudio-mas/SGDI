[program:sistema_ged]
# Supervisor configuration for Sistema GED application

# Command to run the application
# Update the paths according to your installation directory
command=/path/to/venv/bin/gunicorn -c gunicorn_config.py wsgi:app

# Working directory - update this to your application directory
directory=/path/to/sistema_ged

# User to run the process as - update to your application user
user=www-data

# Number of processes
numprocs=1

# Auto-start and auto-restart settings
autostart=true
autorestart=true
startsecs=10
startretries=3

# Stop signal and timeout
stopsignal=TERM
stopwaitsecs=10
stopasgroup=true
killasgroup=true

# Logging
stdout_logfile=/var/log/supervisor/sistema_ged_stdout.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=/var/log/supervisor/sistema_ged_stderr.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

# Environment variables
environment=
    FLASK_ENV="production",
    SECRET_KEY="your-secret-key-here",
    DATABASE_SERVER="your-db-server",
    DATABASE_NAME="sistema_ged",
    DATABASE_USER="your-db-user",
    DATABASE_PASSWORD="your-db-password"

# Priority
priority=999

# Redirect stderr to stdout
redirect_stderr=false
