{# Loading Spinner Component #}

{% macro spinner(size='', color='primary', text='') %}
<div class="text-center">
    <div class="spinner-border text-{{ color }} {% if size %}spinner-border-{{ size }}{% endif %}" role="status">
        <span class="visually-hidden">Carregando...</span>
    </div>
    {% if text %}
    <p class="mt-2 text-muted">{{ text }}</p>
    {% endif %}
</div>
{% endmacro %}

{% macro spinner_overlay(id='loadingOverlay', text='Carregando...') %}
<div class="loading-overlay" id="{{ id }}" style="display: none;">
    <div class="loading-overlay-content">
        <div class="spinner-border text-light" role="status">
            <span class="visually-hidden">Carregando...</span>
        </div>
        <p class="text-light mt-3">{{ text }}</p>
    </div>
</div>
{% endmacro %}

{% macro button_spinner(text='Carregando...', color='primary', size='') %}
<button class="btn btn-{{ color }} {% if size %}btn-{{ size }}{% endif %}" type="button" disabled>
    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
    {{ text }}
</button>
{% endmacro %}

{% macro skeleton_loader(type='text', count=3) %}
{% if type == 'text' %}
    {% for i in range(count) %}
    <div class="skeleton skeleton-text mb-2"></div>
    {% endfor %}
{% elif type == 'card' %}
    <div class="card">
        <div class="skeleton skeleton-image"></div>
        <div class="card-body">
            <div class="skeleton skeleton-text mb-2"></div>
            <div class="skeleton skeleton-text mb-2"></div>
            <div class="skeleton skeleton-text" style="width: 60%;"></div>
        </div>
    </div>
{% elif type == 'table' %}
    <table class="table">
        <thead>
            <tr>
                {% for i in range(count) %}
                <th><div class="skeleton skeleton-text"></div></th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in range(5) %}
            <tr>
                {% for col in range(count) %}
                <td><div class="skeleton skeleton-text"></div></td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
{% endmacro %}
